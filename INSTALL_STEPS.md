# ๐ ะะพัะฐะณะพะฒะฐั ะฃััะฐะฝะพะฒะบะฐ ะฝะฐ TWauto Server

**ะกะตัะฒะตั**: 52.68.160.171 (Tokyo)  
**ะะฐัะฐ**: 22 ะดะตะบะฐะฑัั 2024

---

## ะจะฐะณ 1: ะะพะดะบะปััะตะฝะธะต ะบ ะกะตัะฒะตัั

### ะะพะผะฐะฝะดะฐ ะดะปั ะฟะพะดะบะปััะตะฝะธั:
```bash
ssh root@52.68.160.171
```

ะะฒะตะดะธัะต ะฟะฐัะพะปั ะบะพะณะดะฐ ะฟะพะฟัะพัะธั.

---

## ะจะฐะณ 2: ะัะพะฒะตัะบะฐ ะขะตะบััะตะณะพ ะกะพััะพัะฝะธั

ะะพัะปะต ะฟะพะดะบะปััะตะฝะธั ะฒัะฟะพะปะฝะธัะต:

```bash
# ะัะพะฒะตัะธัั ัะธััะตะผั
cat /etc/os-release

# ะัะพะฒะตัะธัั ัะฒะพะฑะพะดะฝะพะต ะผะตััะพ
df -h

# ะัะพะฒะตัะธัั ะฟะฐะผััั
free -h

# ะัะพะฒะตัะธัั ััะพ ัััะฐะฝะพะฒะปะตะฝะพ
which node npm pm2 2>/dev/null || echo "Node.js ะฝะต ัััะฐะฝะพะฒะปะตะฝ"
```

**ะัะฟัะฐะฒััะต ะผะฝะต ัะตะทัะปััะฐัั ััะธั ะบะพะผะฐะฝะด!**

---

## ะจะฐะณ 3: ะะตัะตัััะฐะฝะพะฒะบะฐ ะกะธััะตะผั (ะะะฆะะะะะะฌะะ)

โ๏ธ **ะะะะะะะะ**: ะญัะพ ัะดะฐะปะธั ะะกะ ะดะฐะฝะฝัะต ะฝะฐ ัะตัะฒะตัะต!

### ะัะปะธ ะฝัะถะฝะฐ ัะธััะฐั ัััะฐะฝะพะฒะบะฐ Ubuntu:

1. ะะฐะนะดะธัะต ะฒ ะฟะฐะฝะตะปั ัะฟัะฐะฒะปะตะฝะธั ะฒะฐัะตะณะพ VPS ะฟัะพะฒะฐะนะดะตัะฐ
2. ะะฐะนะดะธัะต ะพะฟัะธั "Reinstall OS" ะธะปะธ "Rebuild"
3. ะัะฑะตัะธัะต **Ubuntu 22.04 LTS** (ัะตะบะพะผะตะฝะดัะตััั)
4. ะะพะดัะฒะตัะดะธัะต ะฟะตัะตัััะฐะฝะพะฒะบั
5. ะะพะถะดะธัะตัั ะทะฐะฒะตััะตะฝะธั (~5-10 ะผะธะฝัั)
6. ะะพะปััะธัะต ะฝะพะฒัะน ะฟะฐัะพะปั root (ะตัะปะธ ะธะทะผะตะฝะธะปัั)

### ะะปะธ ะฟัะพะฟัััะธัะต ััะพั ัะฐะณ, ะตัะปะธ:
- ะกะตัะฒะตั ัะถะต ะฝะฐ Ubuntu 20.04/22.04
- ะกะธััะตะผะฐ ัะธััะฐั (ะฝะตั ะดััะณะธั ะฟัะธะปะพะถะตะฝะธะน)
- ะััั ะดะพัััะฟ root

---

## ะจะฐะณ 4: ะะฐะณััะทะบะฐ ะััะธะฒะฐ ะฝะฐ ะกะตัะฒะตั

ะะฐ **ะฒะฐัะตะผ Mac**:

```bash
cd /Users/maksim/my_project/TWAutoBotPy
scp tw-auto-executor-deploy.tar.gz root@52.68.160.171:~/
```

ะะดะธัะต ะทะฐะฒะตััะตะฝะธั ะทะฐะณััะทะบะธ (~5-10 ัะตะบัะฝะด ะดะปั 54 KB).

---

## ะจะฐะณ 5: ะฃััะฐะฝะพะฒะบะฐ (ะฝะฐ ัะตัะฒะตัะต)

### ะะฐัะฟะฐะบะพะฒะบะฐ:
```bash
cd ~
mkdir tw-auto-executor
tar xzf tw-auto-executor-deploy.tar.gz -C tw-auto-executor/
cd tw-auto-executor
ls -la  # ะัะพะฒะตัะธัั ััะพ ัะฐัะฟะฐะบะพะฒะฐะปะพัั
```

### ะะฐะฟััะบ ะฐะฒัะพะผะฐัะธัะตัะบะพะณะพ ัััะฐะฝะพะฒัะธะบะฐ:
```bash
chmod +x install.sh
./install.sh
```

ะฃััะฐะฝะพะฒัะธะบ ะฐะฒัะพะผะฐัะธัะตัะบะธ:
- ะฃััะฐะฝะพะฒะธั Node.js 20.x
- ะฃััะฐะฝะพะฒะธั PM2
- ะฃััะฐะฝะพะฒะธั ะทะฐะฒะธัะธะผะพััะธ ะฟัะพะตะบัะฐ
- ะกะพะฑะตัะตั TypeScript
- ะกะพะทะดะฐัั .env ะธะท ะฟัะธะผะตัะฐ

**ะญัะพ ะทะฐะนะผะตั 3-5 ะผะธะฝัั.**

---

## ะจะฐะณ 6: ะะฐัััะพะนะบะฐ .env

### ะะตะฝะตัะฐัะธั ัะธะปัะฝะพะณะพ ะฟะฐัะพะปั:
```bash
openssl rand -base64 32
```

ะกะบะพะฟะธััะนัะต ัะณะตะฝะตัะธัะพะฒะฐะฝะฝัะน ะฟะฐัะพะปั.

### ะะตะดะฐะบัะธัะพะฒะฐะฝะธะต .env:
```bash
nano .env
```

**ะะทะผะตะฝะธัะต ัะปะตะดัััะธะต ัััะพะบะธ**:

```bash
# 1. ะะะฏะะะขะะะฌะะ: ะกะผะตะฝะธัั passphrase
WEBHOOK_PASSPHRASE=ะะกะขะะะฌะขะ_ะกะฎะะ_ะกะะะะะะะะะะะะะซะ_ะะะะะะฌ

# 2. ะะะฏะะะขะะะฌะะ: API ะบะปััะธ Binance
BINANCE_API_KEY=ะฒะฐั_binance_api_key
BINANCE_SECRET=ะฒะฐั_binance_secret

# 3. ะะะฏะะะขะะะฌะะ: Production mode
NODE_ENV=production

# 4. ะะะฆะะะะะะฌะะ: Telegram (ะตัะปะธ ะฝัะถะฝั ัะฒะตะดะพะผะปะตะฝะธั)
# TELEGRAM_BOT_TOKEN=ะฒะฐั_telegram_bot_token
# TELEGRAM_CHAT_ID=ะฒะฐั_chat_id

# 5. ะััะฐะปัะฝะพะต ะพััะฐะฒะธัั ะฟะพ ัะผะพะปัะฐะฝะธั
PORT=3000
HOST=0.0.0.0
```

**ะกะพััะฐะฝะธัั**: `Ctrl+X` โ `Y` โ `Enter`

---

## ะจะฐะณ 7: ะะฐัััะพะนะบะฐ Firewall

```bash
# ะะฐะทัะตัะธัั SSH ะธ ะฟะพัั ะฟัะธะปะพะถะตะฝะธั
sudo ufw allow 22/tcp
sudo ufw allow 3000/tcp

# ะะบะปััะธัั firewall
sudo ufw --force enable

# ะัะพะฒะตัะธัั
sudo ufw status
```

---

## ะจะฐะณ 8: ะะฐะฟััะบ ะกะตัะฒะธัะฐ

```bash
# ะะฐะฟัััะธัั ัะตัะตะท PM2
pm2 start ecosystem.config.js

# ะกะพััะฐะฝะธัั ะบะพะฝัะธะณััะฐัะธั
pm2 save

# ะะฐัััะพะธัั ะฐะฒัะพะทะฐะฟััะบ ะฟัะธ ะฟะตัะตะทะฐะณััะทะบะต
pm2 startup
```

**ะะะะะ**: PM2 ะฟะพะบะฐะถะตั ะบะพะผะฐะฝะดั ะฒะธะดะฐ:
```
sudo env PATH=$PATH:/usr/bin /usr/lib/node_modules/pm2/bin/pm2 startup systemd -u root --hp /root
```

**ะกะบะพะฟะธััะนัะต ะธ ะฒัะฟะพะปะฝะธัะต ััั ะบะพะผะฐะฝะดั!**

---

## ะจะฐะณ 9: ะัะพะฒะตัะบะฐ ะะฐะฑะพัั

### 1. ะกัะฐััั PM2:
```bash
pm2 status
```

**ะะถะธะดะฐะตััั**:
```
โโโโโโโฌโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโฌโโโโโโโโโโฌโโโโโโโโโโโ
โ id  โ name             โ status  โ restart โ memory   โ
โโโโโโโผโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโผโโโโโโโโโโผโโโโโโโโโโโค
โ 0   โ tw-auto-executor โ online  โ 0       โ 180 MB   โ
โโโโโโโดโโโโโโโโโโโโโโโโโโโดโโโโโโโโโโดโโโโโโโโโโดโโโโโโโโโโโ
```

โ status = `online`  
โ memory < 300 MB

### 2. ะะพะณะธ:
```bash
pm2 logs tw-auto-executor --lines 50
```

**ะะถะธะดะฐะตััั**:
```
INFO: ๐ TW Auto Executor started on 0.0.0.0:3000
INFO: Environment: production
INFO: Configured exchanges: binance
```

โ ะะตั ERROR

### 3. Health Check (ะปะพะบะฐะปัะฝะพ):
```bash
curl http://localhost:3000/health
```

**ะะถะธะดะฐะตััั**:
```json
{"status":"ok","timestamp":"...","uptime":...}
```

### 4. ะัะพะฒะตัะบะฐ ะฟะฐะผััะธ:
```bash
pm2 show tw-auto-executor | grep -A 2 "Monit"
free -h
```

**ะะถะธะดะฐะตััั**: Memory usage < 250 MB

---

## ะจะฐะณ 10: ะัะพะฒะตัะบะฐ ะะทะฒะฝะต (ั ะฒะฐัะตะณะพ Mac)

```bash
curl http://52.68.160.171:3000/health
```

**ะะถะธะดะฐะตััั**: ะขะฐะบะพะน ะถะต JSON ะบะฐะบ ะฒััะต.

โ ะกะตัะฒะตั ะดะพัััะฟะตะฝ ะธะท ะธะฝัะตัะฝะตัะฐ!

---

## ะจะฐะณ 11: ะขะตััะพะฒัะน ะัะดะตั

### ะะพะปััะธัั passphrase (ะฝะฐ ัะตัะฒะตัะต):
```bash
cat ~/.tw-auto-executor/.env | grep WEBHOOK_PASSPHRASE
```

### ะัะฟัะฐะฒะธัั ัะตัั (ั ะฒะฐัะตะณะพ Mac):
```bash
curl -X POST http://52.68.160.171:3000/webhook \
  -H "Content-Type: application/json" \
  -d '{
    "exchange": "binance",
    "symbol": "BTC/USDT",
    "action": "buy",
    "volume": 0.0001,
    "orderType": "market",
    "passphrase": "ะะะจ_PASSPHRASE_ะะ_ENV"
  }'
```

**ะะฐัะฝะธัะต ั ะะะะะะะะฌะะะะ ะพะฑัะตะผะฐ ะดะปั ัะตััะฐ!**

---

## ๐ ะะพัะพะฒะพ!

ะัะปะธ ะฒัะต ัะฐะณะธ ะฟัะพัะปะธ ััะฟะตัะฝะพ:
- โ ะกะตัะฒะธั ะทะฐะฟััะตะฝ
- โ ะะพัััะฟะตะฝ ะธะท ะธะฝัะตัะฝะตัะฐ
- โ ะขะตััะพะฒัะน ะพัะดะตั ัะฐะฑะพัะฐะตั

### ะกะปะตะดัััะธะต ัะฐะณะธ:
1. ะะฐัััะพะธัั Webhook ะฒ TradingView
2. ะะพะฝะธัะพัะธัั ะฟะตัะฒัะต 24 ัะฐัะฐ
3. ะะพััะตะฟะตะฝะฝะพ ัะฒะตะปะธัะธะฒะฐัั ะพะฑัะตะผั

---

## ๐จ Troubleshooting

### ะัะพะฑะปะตะผะฐ: install.sh ะฝะต ะทะฐะฟััะบะฐะตััั
```bash
cat install.sh  # ะัะพะฒะตัะธัั ััะพ ัะฐะนะป ะตััั
chmod +x install.sh
bash install.sh  # ะะฐะฟัััะธัั ะฝะฐะฟััะผัั ัะตัะตะท bash
```

### ะัะพะฑะปะตะผะฐ: PM2 ะฝะต ัััะฐะฝะพะฒะปะตะฝ
```bash
npm install -g pm2
```

### ะัะพะฑะปะตะผะฐ: ะะพัั 3000 ะทะฐะฝัั
```bash
sudo netstat -tulpn | grep 3000
# ะฃะฑะธัั ะฟัะพัะตัั ะธะปะธ ะธะทะผะตะฝะธัั PORT ะฒ .env
```

### ะัะพะฑะปะตะผะฐ: ะััะพะบะพะต ะฟะพััะตะฑะปะตะฝะธะต ะฟะฐะผััะธ
```bash
# ะัะพะฒะตัะธัั ััะพ NODE_ENV=production
cat .env | grep NODE_ENV

# ะะตัะตะทะฐะฟัััะธัั
pm2 restart tw-auto-executor
```

---

**ะกะพะทะดะฐะฝะพ**: 22 ะดะตะบะฐะฑัั 2024  
**ะะปั ัะตัะฒะตัะฐ**: TWauto (52.68.160.171)

