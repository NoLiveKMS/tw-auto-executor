# üöÄ –ë—ã—Å—Ç—Ä—ã–π –ì–∞–π–¥ –ø–æ –î–µ–ø–ª–æ—é –Ω–∞ –í–∞—à –°–µ—Ä–≤–µ—Ä

**–°–µ—Ä–≤–µ—Ä**: TWauto (52.68.160.171)  
**Location**: Tokyo, Zone A  
**RAM**: 512 MB | **CPU**: 2 vCPUs | **Storage**: 20 GB SSD

---

## ‚úÖ –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ —É—Å—Ç–∞–Ω–æ–≤–∫–µ!

–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å: **8/10** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ‚òÜ

–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ `SERVER_COMPATIBILITY_CHECK.md`

---

## üéØ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞ 5 –º–∏–Ω—É—Ç

### –®–∞–≥ 1: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É

```bash
ssh root@52.68.160.171
```

---

### –®–∞–≥ 2: –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç

```bash
# –ï—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω git
sudo apt update
sudo apt install git -y

# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–≤–æ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π)
git clone YOUR_REPO_URL tw-auto-executor
cd tw-auto-executor
```

**–ò–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–∞–ø—Ä—è–º—É—é:**
```bash
# –° –≤–∞—à–µ–π –º–∞—à–∏–Ω—ã
scp -r /Users/maksim/my_project/TWAutoBotPy root@52.68.160.171:~/tw-auto-executor
```

---

### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫

```bash
chmod +x install.sh
./install.sh
```

–°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç:
- Node.js 20.x
- PM2
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
- –°–æ–±–µ—Ä–µ—Ç TypeScript
- –°–æ–∑–¥–∞—Å—Ç .env —Ñ–∞–π–ª

---

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env

```bash
nano .env
```

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:**
```bash
# –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–∏–ª—å–Ω—ã–π passphrase
WEBHOOK_PASSPHRASE=$(openssl rand -base64 32)

# API –∫–ª—é—á–∏ –±–∏—Ä–∂–∏ (—Å –ø—Ä–∞–≤–∞–º–∏ –¢–û–õ–¨–ö–û –Ω–∞ Trading!)
BINANCE_API_KEY=your_binance_api_key
BINANCE_SECRET=your_binance_secret

# Production mode (—ç–∫–æ–Ω–æ–º–∏—Ç ~20MB RAM)
NODE_ENV=production

# –û—Å—Ç–∞–ª—å–Ω–æ–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
PORT=3000
HOST=0.0.0.0
```

**–°–æ—Ö—Ä–∞–Ω–∏—Ç—å**: `Ctrl+X`, –∑–∞—Ç–µ–º `Y`, –∑–∞—Ç–µ–º `Enter`

---

### –®–∞–≥ 5: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å

```bash
pm2 start ecosystem.config.js
pm2 save
pm2 startup
```

**–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É** –∫–æ—Ç–æ—Ä—É—é –ø–æ–∫–∞–∂–µ—Ç `pm2 startup`!

---

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
pm2 status

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
pm2 logs tw-auto-executor --lines 50

# Health check
curl http://localhost:3000/health

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞–º—è—Ç—å
pm2 show tw-auto-executor | grep memory
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è**:
- Status: `online` ‚úÖ
- Memory: < 250 MB ‚úÖ
- Health: `{"status":"ok"...}` ‚úÖ

---

### –®–∞–≥ 7: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ firewall

```bash
sudo ufw allow 22/tcp
sudo ufw allow 3000/tcp
sudo ufw enable
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å**:
```bash
sudo ufw status
```

---

### –®–∞–≥ 8: –¢–µ—Å—Ç —Å –≤–Ω–µ—à–Ω–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞

```bash
# –° –≤–∞—à–µ–≥–æ Mac
curl http://52.68.160.171:3000/health

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å:
# {"status":"ok","timestamp":"...","uptime":...}
```

---

### –®–∞–≥ 9: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ TradingView

1. –û—Ç–∫—Ä–æ–π—Ç–µ TradingView
2. –°–æ–∑–¥–∞–π—Ç–µ Alert
3. **Webhook URL**: `http://52.68.160.171:3000/webhook`
4. **Message**:

```json
{
  "exchange": "binance",
  "symbol": "{{ticker}}",
  "action": "{{strategy.order.action}}",
  "volume": 0.001,
  "orderType": "market",
  "passphrase": "–í–ê–®_PASSPHRASE_–ò–ó_ENV"
}
```

5. **–ù–∞–∂–º–∏—Ç–µ Create**

---

### –®–∞–≥ 10: –ü–µ—Ä–≤—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π –æ—Ä–¥–µ—Ä

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –ø–æ–ª—É—á–∏—Ç—å passphrase
cat .env | grep WEBHOOK_PASSPHRASE

# –° –≤–∞—à–µ–≥–æ Mac –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –æ—Ä–¥–µ—Ä
curl -X POST http://52.68.160.171:3000/webhook \
  -H "Content-Type: application/json" \
  -d '{
    "exchange": "binance",
    "symbol": "BTC/USDT",
    "action": "buy",
    "volume": 0.0001,
    "orderType": "market",
    "passphrase": "–≤–∞—à_passphrase"
  }'
```

---

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –ö–æ–º–∞–Ω–¥—ã

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–º
```bash
pm2 status                    # –°—Ç–∞—Ç—É—Å
pm2 logs tw-auto-executor     # –õ–æ–≥–∏
pm2 monit                     # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
pm2 restart tw-auto-executor  # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
pm2 stop tw-auto-executor     # –û—Å—Ç–∞–Ω–æ–≤–∫–∞
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞–º—è—Ç–∏
```bash
# –ü–∞–º—è—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–∞
pm2 show tw-auto-executor

# –°–∏—Å—Ç–µ–º–Ω–∞—è –ø–∞–º—è—Ç—å
free -h

# –¢–æ–ø –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
htop  # –∏–ª–∏ top
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
```bash
cd ~/tw-auto-executor
git pull
npm install --production
npm run build
pm2 restart tw-auto-executor
```

---

## ‚ö†Ô∏è –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–ª—è 512 MB RAM

### –ï—Å–ª–∏ –ø–∞–º—è—Ç–∏ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç:

#### 1. –î–æ–±–∞–≤–∏—Ç—å swap (1 GB)
```bash
sudo fallocate -l 1G /swapfile
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile
echo '/swapfile none swap sw 0 0' | sudo tee -a /etc/fstab

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
free -h
```

#### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è production mode
```bash
cat .env | grep NODE_ENV
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: NODE_ENV=production
```

#### 3. –û—á–∏—Å—Ç–∏—Ç—å –Ω–µ–Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã
```bash
cd ~/tw-auto-executor
npm prune --production
pm2 flush  # –û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥–∏
```

---

## üö® Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: "EADDRINUSE: address already in use"
```bash
# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É 3000
sudo lsof -i :3000

# –£–±–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
sudo kill -9 <PID>

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
pm2 restart tw-auto-executor
```

### –ü—Ä–æ–±–ª–µ–º–∞: –í—ã—Å–æ–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ (> 350 MB)
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ NODE_ENV=production
cat .env | grep NODE_ENV

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
pm2 delete tw-auto-executor
pm2 start ecosystem.config.js
```

### –ü—Ä–æ–±–ª–µ–º–∞: –°–µ—Ä–≤–∏—Å –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
pm2 logs tw-auto-executor --err

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å firewall
sudo ufw status

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—Ç
curl http://localhost:3000/health
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–ø–µ—Ä–≤—ã–µ 24 —á–∞—Å–∞)

### –ö–∞–∂–¥—ã–π —á–∞—Å –ø—Ä–æ–≤–µ—Ä—è—Ç—å:
```bash
# Memory usage
pm2 show tw-auto-executor | grep memory

# Restart count
pm2 show tw-auto-executor | grep restart

# Uptime
pm2 show tw-auto-executor | grep uptime
```

### –ê–ª–µ—Ä—Ç—ã:
- ‚ö†Ô∏è Memory > 350 MB - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏
- ‚ö†Ô∏è Restarts > 5 - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –æ—à–∏–±–æ–∫
- üî¥ Status = stopped - –∫—Ä–∏—Ç–∏—á–Ω–æ!

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –£—Å–ø–µ—à–Ω–æ–≥–æ –î–µ–ø–ª–æ—è

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

- [ ] `pm2 status` - status = `online`
- [ ] `pm2 show tw-auto-executor` - memory < 300 MB
- [ ] `curl localhost:3000/health` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç OK
- [ ] `curl 52.68.160.171:3000/health` - –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑–≤–Ω–µ
- [ ] Firewall –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–ø–æ—Ä—Ç—ã 22, 3000)
- [ ] .env —Å production passphrase
- [ ] API –∫–ª—é—á–∏ –±–∏—Ä–∂–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã
- [ ] –¢–µ—Å—Ç–æ–≤—ã–π –æ—Ä–¥–µ—Ä —É—Å–ø–µ—à–Ω–æ –∏—Å–ø–æ–ª–Ω–µ–Ω
- [ ] –õ–æ–≥–∏ —á–∏—Å—Ç—ã–µ (–Ω–µ—Ç –æ—à–∏–±–æ–∫)
- [ ] PM2 –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ –®–∞–≥–∏

### –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞:

1. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å 10-20 –æ—Ä–¥–µ—Ä–æ–≤** –ø–æ–¥—Ä—è–¥
2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å 24 —á–∞—Å–∞** - —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —Å—Ç–∞–±–∏–ª—å–Ω–æ
3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Telegram** —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
4. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å HTTPS** —á–µ—Ä–µ–∑ Nginx (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
5. **Backup .env —Ñ–∞–π–ª–∞** –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –º–µ—Å—Ç–æ

### –ï—Å–ª–∏ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ:

6. **–£–≤–µ–ª–∏—á–∏—Ç—å –æ–±—ä–µ–º—ã** –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ
7. **–î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –ø–∞—Ä** –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏
8. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** (UptimeRobot)
9. **–†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å upgrade** –¥–æ 1 GB RAM (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

---

## üí∞ Upgrade –û–ø—Ü–∏–∏

–ï—Å–ª–∏ —Ç–µ–∫—É—â–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ:

### –í–∞—Ä–∏–∞–Ω—Ç 1: Upgrade RAM
- **1 GB RAM**: ~$6-8/–º–µ—Å—è—Ü
- –ù–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ
- –ë–æ–ª—å—à–µ –∑–∞–ø–∞—Å–∞

### –í–∞—Ä–∏–∞–Ω—Ç 2: AWS Lambda
- **512 MB RAM**: ~$0.2-2/–º–µ—Å—è—Ü
- –¢—Ä–µ–±—É–µ—Ç serverless.yml
- –ü–æ—á—Ç–∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ë–æ–ª—å—à–∏–π VPS
- **2 GB RAM + 4 vCPUs**: ~$10-12/–º–µ—Å—è—Ü
- Cluster mode (–Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤)
- –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

---

**üöÄ –£–¥–∞—á–∏ —Å –¥–µ–ø–ª–æ–µ–º! –ù–∞—á–Ω–∏—Ç–µ —Å –º–∞–ª—ã—Ö –æ–±—ä–µ–º–æ–≤ –∏ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–π—Ç–µ!**

_–°–æ–∑–¥–∞–Ω–æ: 22 –¥–µ–∫–∞–±—Ä—è 2024_  
_–î–ª—è —Å–µ—Ä–≤–µ—Ä–∞: TWauto (52.68.160.171)_

