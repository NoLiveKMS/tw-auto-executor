# üñ•Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –°–µ—Ä–≤–µ—Ä–∞

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏**: 22 –¥–µ–∫–∞–±—Ä—è 2024  
**–°–µ—Ä–≤–µ—Ä**: TWauto (52.68.160.171)  
**–ü—Ä–æ–µ–∫—Ç**: TW Auto Executor v1.0.0

---

## üìä –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –°–µ—Ä–≤–µ—Ä–∞

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|----------|----------|--------|
| **RAM** | 512 MB | ‚ö†Ô∏è –ú–ò–ù–ò–ú–£–ú |
| **CPU** | 2 vCPUs | ‚úÖ –û–¢–õ–ò–ß–ù–û |
| **Storage** | 20 GB SSD | ‚úÖ –û–¢–õ–ò–ß–ù–û |
| **Location** | Tokyo, Zone A | ‚úÖ –ò–î–ï–ê–õ–¨–ù–û |
| **OS** | Ubuntu | ‚úÖ –°–û–í–ú–ï–°–¢–ò–ú–û |

---

## üéØ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –ü—Ä–æ–µ–∫—Ç–∞ vs –°–µ—Ä–≤–µ—Ä

### RAM (Memory)

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
```
CPU: 1 vCore
RAM: 1 GB
Storage: 10 GB SSD
Region: –¢–æ–∫–∏–æ
```
**–ò—Å—Ç–æ—á–Ω–∏–∫**: `DEPLOYMENT.md:276-281`

#### –í–∞—à —Å–µ—Ä–≤–µ—Ä
- **RAM**: 512 MB (–ø–æ–ª–æ–≤–∏–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–≥–æ)

#### –§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
```
Base Memory: ~80-100 MB
Peak Memory: ~150-200 MB
node_modules: 143 MB (–Ω–∞ –¥–∏—Å–∫–µ, –Ω–µ –≤ RAM)
dist/: 344 KB
```

#### ‚úÖ –í–µ—Ä–¥–∏–∫—Ç: **–°–û–í–ú–ï–°–¢–ò–ú–û, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**

**512 MB –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏**:
1. –ù–µ—Ç –¥—Ä—É–≥–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
2. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è production mode (–±–µ–∑ pino-pretty)
3. PM2 –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –ø–∞–º—è—Ç–∏
4. –û–¥–∏–Ω process (–Ω–µ cluster mode)

---

### CPU

#### –í–∞—à —Å–µ—Ä–≤–µ—Ä: 2 vCPUs
#### –¢—Ä–µ–±—É–µ—Ç—Å—è: 1 vCore

‚úÖ **–û–¢–õ–ò–ß–ù–û** - —É –≤–∞—Å –≤–¥–≤–æ–µ –±–æ–ª—å—à–µ!

---

### Storage

#### –í–∞—à —Å–µ—Ä–≤–µ—Ä: 20 GB SSD
#### –¢—Ä–µ–±—É–µ—Ç—Å—è: 
- –ü—Ä–æ–µ–∫—Ç: ~350 MB
- Node.js: ~50 MB
- System: ~5 GB
- Logs: ~1 GB (—Å–æ –≤—Ä–µ–º–µ–Ω–µ–º)
- –°–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ: ~13 GB

‚úÖ **–û–¢–õ–ò–ß–ù–û** - –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–µ—Å—Ç–∞

---

### Network Location

#### –í–∞—à —Å–µ—Ä–≤–µ—Ä: Tokyo, Zone A
#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: –¢–æ–∫–∏–æ

‚úÖ **–ò–î–ï–ê–õ–¨–ù–û** - –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–∏–Ω–≥ –∫ –±–∏—Ä–∂–∞–º:
- Binance (–¢–æ–∫–∏–æ): ~5-10ms
- Bybit (–°–∏–Ω–≥–∞–ø—É—Ä): ~50-70ms

---

## ‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### 1. –ü–∞–º—è—Ç—å (512 MB)

**–ü—Ä–æ–±–ª–µ–º–∞**: –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–†–µ—à–µ–Ω–∏–µ**:
```javascript
// ecosystem.config.js - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ
module.exports = {
  apps: [{
    name: 'tw-auto-executor',
    script: './dist/index.js',
    instances: 1,              // –¢–æ–ª—å–∫–æ 1 –ø—Ä–æ—Ü–µ—Å—Å!
    exec_mode: 'fork',         // –ù–µ cluster!
    max_memory_restart: '400M', // –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ 400MB
    node_args: '--max-old-space-size=384', // Limit heap
  }]
};
```

**–í .env —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å**:
```bash
NODE_ENV=production  # –ë–µ–∑ pino-pretty —ç–∫–æ–Ω–æ–º–∏—Ç ~20MB
```

---

## üîß –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–ª—è 512 MB RAM

### 1. **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è**

#### A. –û–±–Ω–æ–≤–∏—Ç—å ecosystem.config.js
```javascript
module.exports = {
  apps: [
    {
      name: 'tw-auto-executor',
      script: './dist/index.js',
      instances: 1,
      exec_mode: 'fork',
      autorestart: true,
      watch: false,
      max_memory_restart: '400M',  // ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û –¥–ª—è 512MB
      node_args: '--max-old-space-size=384',
      env: {
        NODE_ENV: 'production',
      },
      error_file: './logs/error.log',
      out_file: './logs/out.log',
      log_file: './logs/combined.log',
      time: true,
      merge_logs: true,
    },
  ],
};
```

#### B. –û—á–∏—Å—Ç–∫–∞ node_modules –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º
```bash
# –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ
npm prune --production

# –ò–ª–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ production
npm install --production
```

#### C. –û—Ç–∫–ª—é—á–∏—Ç—å dev –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –ù–ï —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å:
- tsx
- @typescript-eslint/*
- eslint

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ production:
```bash
npm install --production --omit=dev
```

---

### 2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞–º—è—Ç–∏**

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
pm2 show tw-auto-executor

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
pm2 monit

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—É—é –ø–∞–º—è—Ç—å
free -h
```

---

### 3. **Swap (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)**

–ï—Å–ª–∏ –ø–∞–º—è—Ç–∏ –≤—Å–µ —Ä–∞–≤–Ω–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç:

```bash
# –°–æ–∑–¥–∞—Ç—å swap 1GB
sudo fallocate -l 1G /swapfile
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile

# –°–¥–µ–ª–∞—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º
echo '/swapfile none swap sw 0 0' | sudo tee -a /etc/fstab
```

‚ö†Ô∏è **Swap –º–µ–¥–ª–µ–Ω–Ω–µ–µ RAM**, –Ω–æ –ª—É—á—à–µ —á–µ–º crash!

---

## üìà –û–∂–∏–¥–∞–µ–º–∞—è –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –° 512 MB RAM

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| Latency | 50-100ms |
| Throughput | 100-500 req/s |
| Memory Usage | 150-250 MB |
| Concurrent Orders | 5-10 |
| Uptime | 99%+ (—Å max_memory_restart) |

### –° 1 GB RAM (upgrade)

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| Latency | < 50ms |
| Throughput | > 1000 req/s |
| Memory Usage | 150-300 MB |
| Concurrent Orders | 20+ |
| Uptime | 99.9%+ |

---

## ‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–π –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –í–∞—à–µ–≥–æ –°–µ—Ä–≤–µ—Ä–∞

### –ü–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä:

- [ ] **–û–±–Ω–æ–≤–∏—Ç—å ecosystem.config.js** —Å `max_memory_restart: '400M'`
- [ ] **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å NODE_ENV=production** –≤ .env
- [ ] **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ production dependencies**
- [ ] **–ù–µ –∑–∞–ø—É—Å–∫–∞—Ç—å –¥—Ä—É–≥–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** –Ω–∞ —ç—Ç–æ–º —Å–µ—Ä–≤–µ—Ä–µ
- [ ] **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å swap** (1GB –¥–ª—è –ø–æ–¥—Å—Ç—Ä–∞—Ö–æ–≤–∫–∏)
- [ ] **–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ø–∞–º—è—Ç—å** –ø–µ—Ä–≤—ã–µ 24 —á–∞—Å–∞

### –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `pm2 show tw-auto-executor` - memory usage
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è < 350 MB
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å 10-20 –æ—Ä–¥–µ—Ä–æ–≤ –ø–æ–¥—Ä—è–¥
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –Ω–µ—Ç memory leaks (–ø–∞–º—è—Ç—å –Ω–µ —Ä–∞—Å—Ç–µ—Ç)

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ (—Å–µ–π—á–∞—Å)
1. ‚úÖ **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ–∫—É—â–∏–π —Å–µ—Ä–≤–µ—Ä** —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏
2. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å max_memory_restart
3. ‚úÖ –í–∫–ª—é—á–∏—Ç—å swap
4. ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ø–∞–º—è—Ç—å

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ (–µ—Å–ª–∏ –±—É–¥–µ—Ç –º–Ω–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞)
1. üí∞ **–ê–ø–≥—Ä–µ–π–¥ –¥–æ 1GB RAM** (~$6-8/–º–µ—Å—è—Ü)
2. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å AWS Lambda (512MB RAM, –ø–æ—á—Ç–∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ)

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ü–µ—Ä–µ–¥ –î–µ–ø–ª–æ–µ–º

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞:

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@52.68.160.171

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞–º—è—Ç—å
free -h

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å CPU
nproc
lscpu

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∏—Å–∫
df -h

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Ubuntu –≤–µ—Ä—Å–∏—é
lsb_release -a

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ª–∏ Node.js
node --version

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –µ—Å—Ç—å –ª–∏ swap
swapon --show
```

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤–∞—è –û—Ü–µ–Ω–∫–∞

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å: 8/10 ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ‚òÜ

**–ü–ª—é—Å—ã**:
- ‚úÖ –û—Ç–ª–∏—á–Ω—ã–π CPU (2 vCPUs)
- ‚úÖ –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ storage (20 GB)
- ‚úÖ –ò–¥–µ–∞–ª—å–Ω–∞—è –ª–æ–∫–∞—Ü–∏—è (–¢–æ–∫–∏–æ)
- ‚úÖ SSD –¥–∏—Å–∫ (–±—ã—Å—Ç—Ä–æ)

**–ú–∏–Ω—É—Å—ã**:
- ‚ö†Ô∏è –ú–∏–Ω–∏–º—É–º RAM (512 MB) - –Ω—É–∂–Ω—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- ‚ö†Ô∏è –ù–µ—Ç –∑–∞–ø–∞—Å–∞ –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è

### –í–µ—Ä–¥–∏–∫—Ç: **‚úÖ –°–û–í–ú–ï–°–¢–ò–ú–û**

**–ü—Ä–æ–µ–∫—Ç –ì–û–¢–û–í –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ —ç—Ç–æ—Ç —Å–µ—Ä–≤–µ—Ä** –ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏:
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è production mode
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ max_memory_restart
3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø–∞–º—è—Ç–∏
4. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –î–æ–±–∞–≤–ª–µ–Ω–∏—è swap

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ –®–∞–≥–∏

1. **–û–±–Ω–æ–≤–∏—Ç—å ecosystem.config.js** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!)
2. –°–ª–µ–¥–æ–≤–∞—Ç—å `FINAL_DEPLOYMENT_CHECKLIST.md`
3. –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É: `ssh root@52.68.160.171`
4. –ó–∞–ø—É—Å—Ç–∏—Ç—å `install.sh`
5. –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ø–∞–º—è—Ç—å –ø–µ—Ä–≤—ã–µ 24 —á–∞—Å–∞

---

**–°–µ—Ä–≤–µ—Ä –ø–æ–¥—Ö–æ–¥–∏—Ç! –ú–æ–∂–Ω–æ –¥–µ–ø–ª–æ–∏—Ç—å! ‚úÖ**

_–°–æ–∑–¥–∞–Ω–æ: 22 –¥–µ–∫–∞–±—Ä—è 2024_  
_–°—Ç–∞—Ç—É—Å: Ready for Deployment_

